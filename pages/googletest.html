<!DOCTYPE html>
<html>
<head>
<title>
Google Charts Test
</title>
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">

</head>
<body>

<div class="container">
	<div class="row">
		<div class="span6">
			<div id="chart_div"</div>
	    </div>
	    <div class="span6">
			Part II
	    </div>
	</div>
	<div class="row">
	    <div class="span12">
			<div id="time" style="font-size:x-small">Time</div>
	    </div>
	</div>
</div>

<script src="http://www.trease.eu:8500/socket.io/socket.io.js"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script>

	// Load the Visualization API library and the piechart library.
	google.load('visualization', '1.0', {'packages':['corechart']});
	google.setOnLoadCallback(drawChart);

	function drawChart() {

      // Create the data table.
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Topping');
      data.addColumn('number', 'Slices');
      data.addRows([
        ['Mushrooms', 3],
        ['Onions', 1],
        ['Olives', 1], 
        ['Zucchini', 1],
        ['Pepperoni', 2]
      ]);

      // Set chart options
      var options = {'title':'How Much Pizza I Ate Last Night',
                     'width':100,
                     'height':100};

      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }




	var socket = io.connect("http://www.trease.eu:8500/mqtt");
	socket.on('data', function(data) {
		// chartdata[5] = parseInt(data.message, 10)
		//		console.log(chartdata);		
		var dt = new Date(); 
		document.getElementById("time").innerHTML= dt.toLocaleTimeString();
	});
</script>
</body>
</html>

