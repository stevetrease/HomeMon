{
  "author": {
    "name": "Adam Rudd",
    "email": "adam.rudd@uqconnect.edu.au"
  },
  "name": "mqtt",
  "description": "A library for the MQTT protocol",
  "version": "0.2.6",
  "keywords": [
    "mqtt",
    "publish/subscribe",
    "publish",
    "subscribe"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/adamvr/MQTT.js.git"
  },
  "main": "index.js",
  "scripts": {
    "test": "mocha"
  },
  "bin": {
    "mqtt_pub": "./bin/mqtt_pub",
    "mqtt_sub": "./bin/mqtt_sub"
  },
  "engines": {
    "node": ">=0.8.6"
  },
  "dependencies": {
    "readable-stream": "~1.0.2"
  },
  "devDependencies": {
    "mocha": "*",
    "should": "*"
  },
  "readme": "# mqtt.js\n\n## Important note for existing users\n\nv0.2.0 has brough some API breaking changes to mqtt.js. Please\nconsult the [migration guide](http://github.com/adamvr/MQTT.js/wiki/migration) for information\nor open an issue if you need any help.\n\n## Introduction\n\nmqtt.js is a library for the MQTT protocol, written in javascript.\n\n\n## Installation\n\n    npm install mqtt\n\n## Documentation\n\nDetailed documentation can be found in [the wiki](http://github.com/adamvr/MQTT.js/wiki)\n\n## Client API usage\n\nA basic publish client, the basis for `bin/mqtt_pub`:\n\n    var mqtt = require('mqtt');\n    var argv = process.argv;\n\n    for (var i = 2; i <= 5; i++) {\n      if(!argv[i]) process.exit(-1);\n    }\n\n    var port = argv[2],\n      host = argv[3],\n      topic = argv[4],\n      payload = argv[5];\n\n    var client = mqtt.createClient(port, host)\n    client.on('connect', function() {\n      client.publish(topic, payload);\n      client.end();\n    });\n\n## Server API usage\n\nA broadcast server example, included in `examples/broadcast.js`:\n\n    var mqtt = require('mqtt');\n\n    mqtt.createServer(function(client) {\n      var self = this;\n\n      if (!self.clients) self.clients = {};\n\n      client.on('connect', function(packet) {\n        client.connack({returnCode: 0});\n        client.id = packet.client;\n        self.clients[client.id] = client;\n      });\n\n      client.on('publish', function(packet) {\n        for (var k in self.clients) {\n          self.clients[k].publish({topic: packet.topic, payload: packet.payload});\n        }\n      });\n\n      client.on('subscribe', function(packet) {\n        var granted = [];\n        for (var i = 0; i < packet.subscriptions.length; i++) {\n          granted.push(packet.subscriptions[i].qos);\n        }\n\n        client.suback({granted: granted});\n      });\n\n      client.on('pingreq', function(packet) {\n        client.pingresp();\n      });\n\n      client.on('disconnect', function(packet) {\n        client.stream.end();\n      });\n\n      client.on('close', function(err) {\n        delete self.clients[client.id];\n      });\n\n      client.on('error', function(err) {\n        client.stream.end();\n        console.log('error!');\n      });\n    }).listen(1883);\n\n\n",
  "readmeFilename": "README.md",
  "_id": "mqtt@0.2.6",
  "_from": "mqtt"
}
